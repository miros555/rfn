(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){e.exports=a(272)},155:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),l=a.n(r),i=a(34),c=(a(149),a(21)),s=a(86),p=a(129),h=(a(154),a(155),a(27)),m=a(28),u=a(31),d=a(29),E=a(30),g=a(283),y=a(280),v=a(25),f=a(281),b=a(135),C=a(273),O=function(){return function(e){e({type:"REQUESTED"}),fetch("https://react-app.tmweb.ru:3012/artists",{mode:"no-cors"}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"REQUESTED_SUCCEEDED",payload:e}}(t))},function(t){return e({type:"REQUESTED_FAILED"})})}},j=a(24),S=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).changeInput=function(){return e.setState({isOpened:!e.state.isOpened})},e.changeName=function(t){return e.setState({name:t.target.value})},e.changePhone=function(t){return e.setState({phone:t.target.value})},e.changeCompany=function(t){return e.setState({company:t.target.value})},e.changeEmail=function(t){return e.setState({email:t.target.value})},e.changePhoto=function(t){return e.setState({photo:t.target.value})},e.state={phone:"",name:"",company:"",email:"",photo:"",isOpened:!1},e.editData=e.editData.bind(Object(j.a)(e)),e.deleteData=e.deleteData.bind(Object(j.a)(e)),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.setState({phone:this.props.phone,name:this.props.name,company:this.props.company,email:this.props.email,photo:this.props.photo})}},{key:"editData",value:function(){var e=this,t={phone:this.state.phone,name:this.state.name,company:this.state.company,email:this.state.email,photo:this.state.photo};fetch("/artists/"+this.props.id,{mode:"same-origin",method:"PUT",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"+t),console.log(e.props.id),e.props.dispatch(O())}),this.props.dispatch({type:"ACTIVE",payload:t}),this.props.dispatch({type:"OPEN",payload:!1})}},{key:"deleteData",value:function(){var e=this;fetch("/artists/"+this.props.id,{mode:"same-origin",method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"),e.props.dispatch(O())})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(C.a,{style:{marginLeft:300},onClick:this.deleteData},o.a.createElement(v.a,{name:"delete"}),"Delete"),o.a.createElement(g.a,null,o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:5},o.a.createElement(y.a,{onChange:this.changePhone,placeholder:this.props.phone,value:this.state.phone}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeName,placeholder:this.props.name,value:this.state.name}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeCompany,placeholder:this.props.company,value:this.state.company}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeEmail,placeholder:this.props.email,value:this.state.email}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changePhoto,placeholder:this.props.photo,value:this.state.photo}))),o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:6}),o.a.createElement(g.a.Column,{width:4},o.a.createElement(C.a,{positive:!0,onClick:this.editData},o.a.createElement(v.a,{name:"edit"}),"Edit"),o.a.createElement("br",null)))))}}]),t}(n.Component),w=Object(c.b)(function(e){return e})(S),D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeInput=function(){console.log(a.props.name),a.props.dispatch({type:"OPEN",payload:!a.props.isOpened})},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"render",value:function(){var e,t,a,n,r,l;void 0===this.props.name?e=t=a=n=r="":(e="Name: ",t="E-mail: ",a="Phone: ",r=this.props.isOpened?o.a.createElement(C.a,{positive:!0,style:{padding:15},onClick:this.changeInput},o.a.createElement(v.a,{name:"delete"}),"Close editor"):o.a.createElement(C.a,{positive:!0,onClick:this.changeInput},o.a.createElement(v.a,{name:"edit"})),n="Company: "),this.props.isOpened&&(l=o.a.createElement(w,{name:this.props.name,phone:this.props.phone,id:this.props.id,handler:this.handler,photo:this.props.photo,company:this.props.company,email:this.props.email}));var i=void 0===this.props.actualStore?{}:this.props.actualStore;return o.a.createElement("div",null,o.a.createElement(g.a,null,o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:4},o.a.createElement("img",{style:{borderRadius:20,width:200},src:this.props.photo})),o.a.createElement(g.a.Column,{width:8},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("h3",null,e),o.a.createElement("h1",{style:{color:"green"}},i.name)),o.a.createElement("h4",null,a,"  ",i.phone),o.a.createElement("b",null,t," ",o.a.createElement("a",null,i.email)),o.a.createElement("br",null),n,o.a.createElement("h2",{style:{color:"red"}}," ",i.company)),o.a.createElement(g.a.Column,{width:4},r))),l)}}]),t}(n.Component),k=function(e){return e.activPersone},P=function(e){return e.isOpened},T=Object(s.a)(k,function(e){return e}),R=Object(c.b)(function(e){return{actualStore:k(e),superSelector:T(e),isOpened:P(e)}})(D),N=(a(271),function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).changeName=function(t){return e.setState({name:t.target.value})},e.changePhone=function(t){return e.setState({phone:t.target.value})},e.changeCompany=function(t){return e.setState({company:t.target.value})},e.changeEmail=function(t){return e.setState({email:t.target.value})},e.changePhoto=function(t){return e.setState({photo:t.target.value})},e.toggle=function(){e.setState({visible:!e.state.visible})},e.state={phone:"",name:"",company:"",email:"",photo:"",visible:!1},e.sendData=e.sendData.bind(Object(j.a)(e)),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"sendData",value:function(){var e=this,t={phone:this.state.phone,name:this.state.name,company:this.state.company,email:this.state.email,photo:this.state.photo};fetch("/artists",{mode:"same-origin",method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){console.log("Successful"+t),e.props.dispatch(O()),e.setState({phone:"",name:"",company:"",email:"",photo:"",visible:!1})})}},{key:"render",value:function(){var e,t=o.a.createElement(C.a,{style:{marginTop:5,marginLeft:-50},positive:!0,onClick:this.toggle},o.a.createElement(v.a,{name:"plus"}),"Add To List");return this.state.visible&&(e=o.a.createElement(g.a,null,o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:5},o.a.createElement(y.a,{onChange:this.changePhone,placeholder:"Phone",value:this.state.phone}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeName,placeholder:"Name/Surname",value:this.state.name}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeCompany,placeholder:"Company",value:this.state.company}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changeEmail,placeholder:"Email",value:this.state.email}),o.a.createElement("br",null),o.a.createElement(y.a,{onChange:this.changePhoto,placeholder:"URL for Photo",value:this.state.photo}))),o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:4}),o.a.createElement(g.a.Column,{width:8},o.a.createElement(C.a,{positive:!0,onClick:this.sendData},o.a.createElement(v.a,{name:"plus"}),"Add")))),t=o.a.createElement(C.a,{style:{marginTop:5,marginLeft:-50,padding:5},onClick:this.toggle},o.a.createElement(v.a,{name:"delete"}))),o.a.createElement("div",null,t,o.a.createElement("br",null),o.a.createElement("br",null),e)}}]),t}(n.Component)),I=Object(c.b)(function(e){return e})(N),A=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handlerChange=function(t){e.setState({searchString:t.target.value})},e.state={searchString:""},e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(O())}},{key:"render",value:function(){var e,t=this;e=void 0===this.props.activPersone?{}:this.props.activPersone;var a=this.props.users,n=this.state.searchString.trim().toLowerCase();return n.length>0&&(a=a.filter(function(e){return e.name.toLowerCase().match(n)})),o.a.createElement("div",{className:"App"},o.a.createElement(g.a,{columns:3},o.a.createElement(g.a.Row,null,o.a.createElement(g.a.Column,{width:4},o.a.createElement("div",null,o.a.createElement(y.a,{focus:!0,placeholder:"Search...",onChange:this.handlerChange})," ",o.a.createElement(v.a,{name:"search plus"}),this.props.loading?o.a.createElement("p",null,"Loading..."):this.props.error?o.a.createElement("p",null,"Error, try again"):o.a.createElement("div",null,o.a.createElement(f.a,{style:{cursor:"pointer"}},a.map(function(e,a){return o.a.createElement(f.a.Item,{onClick:function(){t.setState({activePerson:e}),t.props.dispatch({type:"ACTIVE",payload:e}),t.props.dispatch({type:"OPEN",payload:!1})},key:a},o.a.createElement(b.a,{avatar:!0,style:{width:50,height:50,borderRadius:25},src:e.photo}),o.a.createElement(f.a.Content,null,e.phone,o.a.createElement("br",null),o.a.createElement("b",null,e.name," ",o.a.createElement("br",null),o.a.createElement("span",{style:{color:"red"}},e.company)),o.a.createElement(f.a.Header,{as:"a"},e.email)))}))))),o.a.createElement(g.a.Column,{width:4},o.a.createElement(I,null)),o.a.createElement(g.a.Column,{width:8},o.a.createElement(R,{name:e.name,phone:e.phone,id:e._id,isOpened:this.state.isOpened,photo:e.photo,company:e.company,email:e.email})))))}}]),t}(n.Component),L=Object(c.b)(function(e){return console.log(e),e})(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(96),Q=a(65),_={users:[],loading:!1,error:!1,test:5,activPersone:{},isOpened:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUESTED":return Object(Q.a)({},e,{loading:!0,error:!1});case"REQUESTED_SUCCEEDED":return Object(Q.a)({},e,{users:t.payload,loading:!1,error:!1,isOpened:!1});case"REQUESTED_FAILED":return{loading:!1,error:!0};case"EDIT":return{users:Object(U.a)(e.users),phone:t.payload.phone,name:t.payload.name,company:t.payload.company,email:t.payload.email,photo:t.payload.photo};case"ACTIVE":return{users:Object(U.a)(e.users),activPersone:t.payload};case"OPEN":return Object(Q.a)({},e,{isOpened:t.payload});default:return e}},M=Object(i.createStore)(J,Object(i.applyMiddleware)(p.a));l.a.render(o.a.createElement(c.a,{store:M},o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[144,1,2]]]);
//# sourceMappingURL=main.9417f524.chunk.js.map